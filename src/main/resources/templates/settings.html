<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>spmis0609</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.3/dist/pulse/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="assets/css/styles.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
</head>

<body style="padding-left: 14rem;">
    <div th:insert="/project_navbar::nav"></div><!-- Start: Sidebar -->
    <ul class="nav flex-column shadow d-flex sidebar mobile-hid position-fixed">
        <!-- Start: Logo Holder -->
        <li class="nav-item logo-holder">
            <div class="text-center text-white logo py-4 mx-4"><a class="link-light text-decoration-none" id="title" href="/"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -64 640 640" width="1em" height="1em" fill="currentColor" class="me-1">
                            <!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                            <path d="M352 32C378.5 32 400 53.49 400 80V84H518.4C528.8 62.69 550.7 48 576 48C611.3 48 640 76.65 640 112C640 147.3 611.3 176 576 176C550.7 176 528.8 161.3 518.4 140H451.5C510.4 179.6 550.4 244.1 555.5 320H560C586.5 320 608 341.5 608 368V432C608 458.5 586.5 480 560 480H496C469.5 480 448 458.5 448 432V368C448 341.5 469.5 320 496 320H499.3C493.4 253 450.8 196.6 391.8 170.9C383.1 183.6 368.6 192 352 192H288C271.4 192 256.9 183.6 248.2 170.9C189.2 196.6 146.6 253 140.7 320H144C170.5 320 192 341.5 192 368V432C192 458.5 170.5 480 144 480H80C53.49 480 32 458.5 32 432V368C32 341.5 53.49 320 80 320H84.53C89.56 244.1 129.6 179.6 188.5 140H121.6C111.2 161.3 89.3 176 64 176C28.65 176 0 147.3 0 112C0 76.65 28.65 48 64 48C89.3 48 111.2 62.69 121.6 84H240V80C240 53.49 261.5 32 288 32H352zM296 136H344V88H296V136zM88 376V424H136V376H88zM552 424V376H504V424H552z"></path>
                        </svg>&nbsp;SPMIS</span></a><a class="float-end" id="sidebarToggleHolder" href="#"><i class="fas fa-bars" id="sidebarToggle"></i></a></div>
        </li><!-- End: Logo Holder -->
        <li class="nav-item dropdown"><a class="dropdown-toggle nav-link text-start py-1 px-0 position-relative" aria-expanded="false" data-bs-toggle="dropdown" href="projects"><i class="fas fa-project-diagram text-white mx-3"></i><span class="text-nowrap mx-2">Projects</span></a>
            <div class="dropdown-menu border-0 animated fadeIn" th:if="${projectList != null}"><a class="dropdown-item" th:each="project : ${projectList}" th:href="@{/project?(project_id=${project.getProject_id()})}"><span class="text-white" th:text="${project.getProject_name()}" th:href="${project.getProject_id()}">Project 1</span></a></div>
        </li>
        <li class="nav-item"><a class="nav-link text-start py-1 px-0" href="dashboard"><i class="fas fa-tachometer-alt text-white mx-3"></i><span class="text-nowrap mx-2">Dashboard</span></a></li>
        <li class="nav-item"><a class="nav-link text-start py-1 px-0" href="meeting"><i class="fas fa-users text-white mx-3"></i><span class="text-nowrap mx-2">Meeting</span></a><a class="nav-link text-start py-1 px-0" href="schedule"><i class="fas fa-calendar-alt text-white mx-3"></i><span class="text-nowrap mx-2">Calendar</span></a></li>
        <li class="nav-item dropdown" th:if="${project != null}"><a class="dropdown-toggle nav-link text-start py-1 px-0 position-relative" aria-expanded="false" data-bs-toggle="dropdown" href="settings"><i class="fas fa-sliders-h text-white mx-3"></i><span class="text-nowrap mx-2">Project Settings</span><i class="fas fa-caret-down float-none float-lg-end fa-sm"></i></a>
            <div class="dropdown-menu border-0 animated fadeIn"><a class="dropdown-item" href="#"><span>Change password</span></a><a class="dropdown-item" href="#"><span>Change email</span></a><a class="dropdown-item" href="settings" data-bs-target="settings"><span>More</span></a></div>
        </li>
        <li class="nav-item"></li>
    </ul><!-- End: Sidebar -->
    <div class="ms-2">
        <div class="container mb-4">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#"><span>프로젝트</span></a></li>
                <li class="breadcrumb-item"><a href="#"><span>프로젝트명</span></a></li>
                <li class="breadcrumb-item"><a href="#"><span>대시보드</span></a></li>
            </ol>
            <header>
                <div class="row">
                    <div class="col align-self-center">
                        <h4>subject명</h4>
                    </div>
                    <div class="col text-end align-self-center"><img class="rounded-circle" src="https://i.pravatar.cc/40"></div>
                </div>
            </header>
        </div>
        <main>
            <div class="container">
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item" role="presentation"><a class="nav-link active" role="tab" data-bs-toggle="tab" href="#tab-1">그룹</a></li>
                        <li class="nav-item" role="presentation"><a class="nav-link" role="tab" data-bs-toggle="tab" href="#tab-2">공개 범위</a></li>
                        <li class="nav-item" role="presentation"><a class="nav-link" role="tab" data-bs-toggle="tab" href="#tab-3">프로젝트 설정</a></li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active" role="tabpanel" id="tab-1">
                            <div class="d-lg-flex justify-content-lg-end m-2"><button class="btn btn-primary" type="button" data-bs-target="#modal-1" data-bs-toggle="modal">invite<br></button></div>
                            <form action="/groupPOST">
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th style="width: 30%;">구성원(email)</th>
                                                <th style="width: 70%;">역할</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="g : ${group}" th:if="${g.getJoin_status == 'member' || g.getJoin_status() == 'admin'}}">
                                                <td style="width: 30%;" th:text="${g.getUser_email()}">홍길동(email)<input class="form-control" type="hidden" value="${g.getUser_email()}" name="user_email"><input class="form-control" type="hidden" value="${g.getUser_email()}"></td>
                                                <td style="width: 70%;"><input class="form-control" type="text" style="width: 100%;" th:text="${g.getRole()}" name="role" th:value="${g.getRole()}"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="d-lg-flex justify-content-lg-end"><button class="btn btn-primary justify-content-lg-end" type="submit">확인</button></div>
                            </form>
                            <hr>
                            <p>프로젝트 참여 요청</p>
                            <form action="/inviteRequest">
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>이름</th>
                                                <th>상태</th>
                                                <th class="col-md-2"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="g : ${group}" th:if="${g.getJoin_status()}">
                                                <td th:text="${g.getUser_email()}">Cell 1</td>
                                                <td th:text="${g.getJoin_status()}">Cell 2</td>
                                                <td>
                                                    <form action="/"><button class="btn btn-secondary float-end" type="button">&nbsp;거절</button><input class="form-control" type="hidden" name="user_email" value="${g.getUser_email()}"><input class="form-control" type="hidden" name="role" value="그룹원"><input class="form-control" type="hidden" name="join_status" value="member"></form>
                                                    <form action="/deleteGroup"><button class="btn btn-primary float-end" type="submit">&nbsp;수락</button><input class="form-control" type="hidden" name="user_email" value="${g.getUser_email()}"></form>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </form>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="tab-2">
                            <p>공개 범위 설정</p>
                            <form action="/updatePrivacyScope"><select class="form-select" name="privacy_scope">
                                    <optgroup label="This is a group">
                                        <option value="1" selected="">Public</option>
                                        <option value="2">private</option>
                                        <option value="14">This is item 3</option>
                                    </optgroup>
                                </select><input class="form-control" type="hidden"><button class="btn btn-primary float-end" type="submit">저장</button></form>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="tab-3">
                            <p>Content for tab 3.</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <div class="modal fade" role="dialog" tabindex="-1" id="modal-1">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">그룹원 추가하기</h4><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="/invitegroupPost" method="post">
                            <div class="input-group"><span class="input-group-text">초대할 ID</span><input class="form-control" type="text" placeholder="Email"><button class="btn btn-primary" type="submit">Button</button></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/script.min.js"></script>
</body>

</html>